<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="579px" preserveAspectRatio="none" style="width:969px;height:579px;" version="1.1" viewBox="0 0 969 579" width="969px" zoomAndPan="magnify"><defs><filter height="300%" id="fphi1ix0svgpo" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="208.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522" y="143.8594"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="122.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705.5" y="346.5547"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896.5" y="248.2891"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="122.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896.5" y="346.5547"/><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="603.5" y="77.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="610.5" y="97.4248">task:AutomaticPaymentTask</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="868" y="181.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="875" y="201.8545">t:Timer</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="223" x2="223" y1="38.2969" y2="539.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="526.5" x2="526.5" y1="38.2969" y2="539.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="710.5" x2="710.5" y1="110.0781" y2="539.3516"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="901" x2="901" y1="214.5078" y2="539.3516"/><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="139" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="146" y="22.9951">:RegistryTransactions</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="139" y="538.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="150" x="146" y="558.3467">:RegistryTransactions</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="460.5" y="3"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="467.5" y="22.9951">org:Organization</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="129" x="460.5" y="538.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="115" x="467.5" y="558.3467">org:Organization</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="603.5" y="538.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="610.5" y="558.3467">task:AutomaticPaymentTask</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="868" y="538.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="875" y="558.3467">t:Timer</text><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="208.8594" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="218" y="69.4297"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="522" y="143.8594"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="122.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="705.5" y="346.5547"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896.5" y="248.2891"/><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="122.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="896.5" y="346.5547"/><ellipse cx="10.5" cy="68.6797" fill="none" rx="4" ry="4" style="stroke: #A80036; stroke-width: 1.5;"/><polygon fill="#A80036" points="206,65.4297,216,69.4297,206,73.4297,210,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="15" x2="212" y1="69.4297" y2="69.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="18" y="64.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="31" y="64.3638">scheduleOrgPayments(org)</text><polygon fill="#A80036" points="591.5,94.5625,601.5,98.5625,591.5,102.5625,595.5,98.5625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="228" x2="597.5" y1="98.5625" y2="98.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="235" y="93.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="72" x="248" y="93.4966">create(org)</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="210" x="603.5" y="77.4297"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="196" x="610.5" y="97.4248">task:AutomaticPaymentTask</text><polygon fill="#A80036" points="510,139.8594,520,143.8594,510,147.8594,514,143.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228" x2="516" y1="143.8594" y2="143.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="235" y="138.7935">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="262" x="248" y="138.7935">paymentsDate=getNextPaymentsDate()</text><polygon fill="#A80036" points="856,198.9922,866,202.9922,856,206.9922,860,202.9922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="228" x2="862" y1="202.9922" y2="202.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="235" y="197.9263">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="51" x="248" y="197.9263">create()</text><rect fill="#FEFECE" filter="url(#fphi1ix0svgpo)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="63" x="868" y="181.8594"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="49" x="875" y="201.8545">t:Timer</text><polygon fill="#A80036" points="884.5,244.2891,894.5,248.2891,884.5,252.2891,888.5,248.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="228" x2="890.5" y1="248.2891" y2="248.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="235" y="243.2231">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="186" x="248" y="243.2231">schedule(task,paymentDate)</text><path d="M166,291.2891 L166,316.2891 L957,316.2891 L957,301.2891 L947,291.2891 L166,291.2891 " fill="#FBFB77" filter="url(#fphi1ix0svgpo)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M947,291.2891 L947,301.2891 L957,301.2891 L947,291.2891 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="296" x="407" y="308.356">After the time until paymentsDate has passed</text><polygon fill="#A80036" points="726.5,342.5547,716.5,346.5547,726.5,350.5547,722.5,346.5547" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="720.5" x2="895.5" y1="346.5547" y2="346.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="732.5" y="341.4888">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="31" x="745.5" y="341.4888">run()</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="715.5" x2="757.5" y1="375.6875" y2="375.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="757.5" x2="757.5" y1="375.6875" y2="388.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="716.5" x2="757.5" y1="388.6875" y2="388.6875"/><polygon fill="#A80036" points="726.5,384.6875,716.5,388.6875,726.5,392.6875,722.5,388.6875" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="722.5" y="370.6216">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="131" x="735.5" y="370.6216">makePayments(org)</text><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="216" x="600.5" y="396.6875"/><polygon fill="#EEEEEE" points="600.5,396.6875,666.5,396.6875,666.5,403.6875,656.5,413.6875,600.5,413.6875,600.5,396.6875" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="613.5" y="410.7544">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="124" x="648.5" y="429.7544">SD_MakePayments</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="715.5" x2="757.5" y1="468.0859" y2="468.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="757.5" x2="757.5" y1="468.0859" y2="481.0859"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="710.5" x2="757.5" y1="481.0859" y2="481.0859"/><polygon fill="#A80036" points="720.5,477.0859,710.5,481.0859,720.5,485.0859,716.5,481.0859" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="722.5" y="463.02">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="735.5" y="463.02">scheduleNextTimer(org)</text><rect fill="#FFFFFF" filter="url(#fphi1ix0svgpo)" height="40.2656" style="stroke: #000000; stroke-width: 2.0;" width="216" x="600.5" y="484.0859"/><polygon fill="#EEEEEE" points="600.5,484.0859,666.5,484.0859,666.5,491.0859,656.5,501.0859,600.5,501.0859,600.5,484.0859" style="stroke: #000000; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="21" x="613.5" y="498.1528">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="151" x="635" y="517.1528">SD_ScheduleNextTimer</text><!--MD5=[75779ea5449427e6bc8b222c60b6ef48]
@startuml
autonumber

participant ":RegistryTransactions" as REGTRA
participant "org:Organization" as ORG
participant "task:AutomaticPaymentTask" as TASK
participant "t:Timer" as TIM

[o-> REGTRA: scheduleOrgPayments(org)
activate REGTRA

REGTRA - -> TASK**: create(org)

REGTRA -> ORG: paymentsDate=getNextPaymentsDate()
activate ORG
deactivate ORG

REGTRA - -> TIM**: create()

REGTRA -> TIM: schedule(task,paymentDate)
activate TIM
deactivate TIM

deactivate REGTRA
  
note over REGTRA,TIM: After the time until paymentsDate has passed

TIM -> TASK: run()
activate TIM
activate TASK

TASK -> TASK: makePayments(org)
ref over TASK: SD_MakePayments

TASK -> TASK: scheduleNextTimer(org)
ref over TASK: SD_ScheduleNextTimer

deactivate TASK
deactivate TIM
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_232-heroku-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>